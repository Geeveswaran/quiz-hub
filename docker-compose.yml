version: '3.8'

services:
  php-app:
    build: .
    container_name: quiz-master-php
    ports:
      - "8000:8000"
    volumes:
      - .:/app
    environment:
      - MONGODB_URI=mongodb+srv://chandru:Chadru%402008@cluster0.ifkzocu.mongodb.net/quiz_system?appName=Cluster0
    command: php -S 0.0.0.0:8000 -t .

  # Optional: Local MongoDB for development (comment out if using MongoDB Atlas only)
  # mongodb:
  #   image: mongo:7
  #   container_name: quiz-master-mongo
  #   ports:
  #     - "27017:27017"
  #   volumes:
  #     - mongodb_data:/data/db
  #   environment:
  #     MONGO_INITDB_ROOT_USERNAME: root
  #     MONGO_INITDB_ROOT_PASSWORD: password

# volumes:
#   mongodb_data:
